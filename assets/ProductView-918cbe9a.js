import{d as _}from"./_commonjsHelpers-dd5c6141.js";import{c as h}from"./cart-2eb8f73d.js";import{v as m}from"./runtime-dom.esm-bundler-0d16a18e.js";import{_ as y,r as g,o as n,W as d,X as t,a3 as c,a6 as b,a2 as l,a0 as f,a5 as v,Y as x,Z as w}from"./_plugin-vue_export-helper-a32a19e0.js";const{VITE_URL:a,VITE_PATH:u}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"hilda88",BASE_URL:"/Enjoy-Camp-Project/",MODE:"production",DEV:!1,PROD:!0},C={data(){return{product:{},categoryProducts:[],qty:1}},watch:{"$route.params.id":{handler(r){this.id=r,this.id&&this.getProduct()}}},methods:{getProduct(){const{id:r}=this.$route.params;this.$http.get(`${a}/v2/api/${u}/product/${r}`).then(s=>{this.product=s.data.product,this.getCategoryProduct()}).catch(s=>{alert(s.response.data.message)})},toCurrency(r){return r==null?"":r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getCategoryProduct(){const{category:r}=this.product;this.$http.get(`${a}/v2/api/${u}/products?category=${r}`).then(s=>{this.categoryProducts=s.data.products,this.lengthFourArr()}).catch(s=>{alert(s.response.data.message)})},lengthFourArr(){this.categoryProducts.length>4&&(this.categoryProducts=this.categoryProducts.slice(0,4))},..._(h,["addToCart"]),addCount(){this.qty<10&&this.qty++},minusCount(){this.qty>1&&this.qty--}},mounted(){this.getProduct()}},P={class:"container my-12"},k={class:"row justify-content-around"},T={class:"col-lg-6"},V=["src","alt"],j={class:"col-lg-5 d-flex flex-column justify-content-between mt-10 mt-lg-0"},q={class:"mb-6 mb-xl-0"},E={class:"fw-bold mb-5"},A={class:""},U={class:"d-flex flex-xl-row justify-content-between align-items-xl-end flex-column align-items-start"},B={class:"d-flex flex-row align-items-center w-75"},D=t("p",{class:"me-5 fs-19"},"數量",-1),I={class:"d-flex flex-row align-items-center border border-secondary border-3 w-75"},L=t("span",{class:"material-icons align-middle text-primary"},"add",-1),R=[L],S=t("span",{class:"material-icons align-middle text-primary"},"remove",-1),F=[S],N={key:0,class:"mt-3 mt-xl-0"},H={class:"fs-28-rwd-19 fw-bold"},M={key:1,class:"mt-3 mt-xl-0"},O={class:"text-xl-end"},z={class:"text-decoration-line-through"},W={class:"fs-28-rwd-19 fw-bold"},X={class:"row justify-content-end mt-xl-10 mt-5"},Y={class:"col-xl-5 mb-3 mb-xl-0"},Z=t("span",{class:"material-icons align-middle me-5 hvr-icon"},"shopping_cart",-1),G={class:"col-xl-5"},J=t("span",{class:"material-icons align-middle me-5 hvr-icon"},"shopping_bag",-1),K={class:"container my-12"},Q=t("h3",{class:"border-bottom pb-3 border-2"},"你可能也會喜歡",-1),$={class:"row row-cols-lg-4 row-cols-md-2 row-cols-1 pt-md-12 pt-11 pb-10"},tt={class:"card rounded-0"},st={class:"position-relative"},ot=["src","alt"],et={class:"btn-hover-add-cart d-flex justify-content-center align-items-center"},rt={class:"card-body p-0 py-5 text-center border"},it={class:"card-title fs-16 fw-bold"},ct={class:"card-text"};function nt(r,s,dt,lt,o,i){const p=g("router-link");return n(),d("main",null,[t("section",null,[t("div",P,[t("div",k,[t("div",T,[t("img",{class:"img-fluid",src:o.product.imageUrl,alt:o.product.title,style:{"aspect-ratio":"1/0.8","object-fit":"cover"}},null,8,V)]),t("div",j,[t("div",q,[t("h3",E,c(o.product.title),1),t("p",null,c(o.product.description),1)]),t("div",A,[t("div",U,[t("div",B,[D,t("div",I,[t("button",{type:"button",class:"border-0 bg-white px-5 py-2",onClick:s[0]||(s[0]=(...e)=>i.minusCount&&i.minusCount(...e))},R),b(t("input",{class:"form-control border-0 text-center fs-28-rwd-19",type:"text",readonly:"","onUpdate:modelValue":s[1]||(s[1]=e=>o.qty=e)},null,512),[[m,o.qty]]),t("button",{type:"button",class:"border-0 bg-white px-5 py-2",onClick:s[2]||(s[2]=(...e)=>i.addCount&&i.addCount(...e))},F)])]),o.product.price===o.product.origin_price?(n(),d("div",N,[t("p",H,"$ "+c(i.toCurrency(o.product.price)),1)])):(n(),d("div",M,[t("p",O,[l("定價"),t("span",z," $ "+c(i.toCurrency(o.product.origin_price)),1)]),t("p",W,"$ "+c(i.toCurrency(o.product.price)),1)]))]),t("div",X,[t("div",Y,[t("button",{type:"button",class:"btn btn-outline-primary rounded-0 w-100 py-2 hvr-icon-wobble-horizontal",onClick:s[3]||(s[3]=e=>r.addToCart(o.product.id,o.qty))},[Z,l("加入購物車")])]),t("div",G,[t("button",{type:"button",class:"btn btn-primary rounded-0 w-100 py-2 hvr-icon-pulse-shrink",onClick:s[4]||(s[4]=e=>r.addToCart(o.product.id,o.qty,!0))},[J,l("立即購買")])])])])])])])]),t("section",null,[t("div",K,[Q,t("div",$,[(n(!0),d(f,null,v(o.categoryProducts,e=>(n(),d("div",{class:"col gy-4 gy-lg-0",key:e.id},[t("div",tt,[x(p,{to:`/product/${e.id}`},{default:w(()=>[t("div",st,[t("img",{class:"img-fluid",src:e.imageUrl,alt:e.title,style:{"aspect-ratio":"1/1.1","object-fit":"cover"}},null,8,ot),t("div",et,[t("button",{type:"button",class:"add-cart-btn",onClick:s[5]||(s[5]=at=>r.addToCart(o.product.id))},"加入購物車")])]),t("div",rt,[t("h4",it,c(e.title),1),t("p",ct,"$ "+c(i.toCurrency(e.price)),1)])]),_:2},1032,["to"])])]))),128))])])])])}const mt=y(C,[["render",nt]]);export{mt as default};
