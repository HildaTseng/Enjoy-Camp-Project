import{d as f}from"./_commonjsHelpers-759366e4.js";import{c as C}from"./cart-75d078bd.js";import{w as d}from"./runtime-dom.esm-bundler-0d16a18e.js";import{_ as m,r as P,o as n,W as c,X as t,a3 as i,a0 as h,a5 as b,$ as p,a4 as k,Y as x,Z as w}from"./_plugin-vue_export-helper-a32a19e0.js";const{VITE_URL:u,VITE_PATH:g}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"hilda88",BASE_URL:"/Enjoy-Camp-Project/",MODE:"production",DEV:!1,PROD:!0},T={data(){return{products:[],pages:{},title:"全部商品"}},methods:{getProducts(o=1){this.$http.get(`${u}/v2/api/${g}/products/?page=${o}`).then(s=>{this.products=s.data.products,this.pages=s.data.pagination,this.title="全部商品"}).catch(s=>{alert(s.response.data.message)})},toCurrency(o){return o==null?"":o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getCategoryProducts(o,s=1){this.$http.get(`${u}/v2/api/${g}/products?page=${s}&category=${o}`).then(l=>{this.products=l.data.products,this.pages=l.data.pagination,this.title=`${o}`}).catch(l=>{alert(l.response.data.message)})},getCategoryCampModeProducts(o,s=1){this.$http.get(`${u}/v2/api/${g}/products/?page=${s}`).then(l=>{const r=l.data.products.filter(a=>a.category_campMode.includes(o));this.products=r,this.pages=l.data.pagination,this.title=`${o}系列`}).catch(l=>{alert(l.response.data.message)})},changeSelect(){event.target.value==="最新上架"?this.getProducts():event.target.value==="價格高至低排序"?this.products=this.products.sort((o,s)=>s.price-o.price):event.target.value==="價格低至高排序"&&(this.products=this.products.sort((o,s)=>o.price-s.price))},getCategoryInRoute(o){o==="家庭露營"||o==="機車露營"||o==="登山露營"?this.getCategoryCampModeProducts(o):o!=="家庭露營"||o!=="機車露營"||o!=="登山露營"?this.getCategoryProducts(o):this.getProducts()},...f(C,["addToCart"])},mounted(){const o=this.$route.query.category;o?this.getCategoryInRoute(o):this.getProducts(),this.$router.afterEach((s,l)=>{s.query.category?this.getCategoryInRoute(s.query.category):this.getProducts()})}},F={class:"container my-lg-12 my-10"},$={class:"row"},E={class:"col-lg-3 d-none d-lg-block"},V={class:"accordion accordion-flush",id:"accordionLarge"},M={class:"accordion-item border-bottom"},I={class:"accordion-header"},O={class:"accordion-item"},R=t("h3",{class:"accordion-header",id:"flush-headingOne"},[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne"}," 精選系列 ")],-1),S={id:"flush-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"flush-headingOne"},j={class:"accordion-body pt-0"},B={class:"ps-4"},L={class:"p-3"},A={class:"p-3"},D={class:"p-3"},N={class:"accordion-item"},U=t("h3",{class:"accordion-header",id:"flush-headingTwo"},[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseTwo","aria-expanded":"false","aria-controls":"flush-collapseTwo"}," 帳篷/天幕 ")],-1),q={id:"flush-collapseTwo",class:"accordion-collapse collapse show","aria-labelledby":"flush-headingTwo"},H={class:"accordion-body pt-0"},z={class:"ps-4"},W={class:"p-3"},X={class:"p-3"},Y={class:"p-3"},Z={class:"accordion-item"},G=t("h3",{class:"accordion-header",id:"flush-headingThree"},[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseThree","aria-expanded":"false","aria-controls":"flush-collapseThree"}," 桌椅/家具 ")],-1),J={id:"flush-collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"flush-headingThree"},K={class:"accordion-body pt-0"},Q={class:"ps-4"},tt={class:"p-3"},st={class:"p-3"},et={class:"p-3"},ot={class:"p-3"},at={class:"p-3"},lt={class:"accordion-item"},rt=t("h3",{class:"accordion-header",id:"flush-headingFour"},[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseFour","aria-expanded":"false","aria-controls":"flush-collapseFour"}," 燈具照明 ")],-1),nt={id:"flush-collapseFour",class:"accordion-collapse collapse show","aria-labelledby":"flush-headingFour"},ct={class:"accordion-body pt-0"},dt={class:"ps-4"},it={class:"p-3"},pt={class:"p-3"},ut={class:"accordion-item"},gt=t("h3",{class:"accordion-header",id:"flush-headingFive"},[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseFive","aria-expanded":"false","aria-controls":"flush-collapseFive"}," 爐具/餐具 ")],-1),ht={id:"flush-collapseFive",class:"accordion-collapse collapse show","aria-labelledby":"flush-headingFive"},bt={class:"accordion-body pt-0"},_t={class:"ps-4"},vt={class:"p-3"},yt={class:"p-3"},ft={class:"accordion-item"},Ct={class:"accordion-header"},mt={class:"accordion-item"},Pt={class:"accordion-header"},kt={class:"accordion-item border-bottom"},xt={class:"accordion-header"},wt={class:"col-lg-9"},Tt={class:"d-lg-flex flex-lg-row justify-content-lg-between align-items-center mb-10"},Ft={class:"px-5 mb-5 border-primary border-2 border-start fs-5"},$t=t("option",{value:"最新上架",selected:""},"最新上架",-1),Et=t("option",{value:"價格高至低排序"},"價格高至低排序",-1),Vt=t("option",{value:"價格低至高排序"},"價格低至高排序",-1),Mt=[$t,Et,Vt],It={class:"row row-cols-lg-3 row-cols-md-2 row-cols-1 gy-5"},Ot={class:"card rounded-0"},Rt={class:"position-relative"},St=["src","alt"],jt={class:"btn-hover-add-cart d-flex justify-content-center align-items-center"},Bt=["onClick"],Lt={class:"card-body py-5 px-3 text-center border-0 d-flex flex-column"},At={class:"card-title fs-19 fw-bold mb-auto"},Dt={class:"card-text"},Nt={key:0,"aria-label":"Page navigation"},Ut={class:"pagination my-10 d-flex justify-content-center"},qt=t("span",{"aria-hidden":"true"},"«",-1),Ht=[qt],zt=["onClick"],Wt=t("span",{"aria-hidden":"true"},"»",-1),Xt=[Wt];function Yt(o,s,l,_,r,a){const v=P("router-link");return n(),c("main",null,[t("section",null,[t("div",F,[t("div",$,[t("div",E,[t("div",V,[t("div",M,[t("h3",I,[t("button",{class:"btn px-5 pt-0 pb-4 w-100 text-start border-0",type:"button",onClick:s[0]||(s[0]=(...e)=>a.getProducts&&a.getProducts(...e))}," 全部商品 ")])]),t("div",O,[R,t("div",S,[t("div",j,[t("ul",B,[t("li",L,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[1]||(s[1]=e=>a.getCategoryCampModeProducts("家庭露營"))},"家庭露營系列")]),t("li",A,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[2]||(s[2]=e=>a.getCategoryCampModeProducts("機車露營"))},"機車露營系列")]),t("li",D,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[3]||(s[3]=e=>a.getCategoryCampModeProducts("登山露營"))},"登山露營系列")])])])])]),t("div",N,[U,t("div",q,[t("div",H,[t("ul",z,[t("li",W,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[4]||(s[4]=e=>a.getCategoryProducts("帳篷"))},"帳篷")]),t("li",X,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[5]||(s[5]=e=>a.getCategoryProducts("天幕"))},"天幕")]),t("li",Y,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[6]||(s[6]=e=>a.getCategoryProducts("帳篷配件"))},"帳篷配件")])])])])]),t("div",Z,[G,t("div",J,[t("div",K,[t("ul",Q,[t("li",tt,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[7]||(s[7]=e=>a.getCategoryProducts("戶外桌"))},"戶外桌")]),t("li",st,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[8]||(s[8]=e=>a.getCategoryProducts("露營椅"))},"露營椅")]),t("li",et,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[9]||(s[9]=e=>a.getCategoryProducts("睡袋"))},"睡袋")]),t("li",ot,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[10]||(s[10]=e=>a.getCategoryProducts("床墊"))},"床墊")]),t("li",at,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[11]||(s[11]=e=>a.getCategoryProducts("枕頭"))},"枕頭")])])])])]),t("div",lt,[rt,t("div",nt,[t("div",ct,[t("ul",dt,[t("li",it,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[12]||(s[12]=e=>a.getCategoryProducts("燈具"))},"燈具")]),t("li",pt,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[13]||(s[13]=e=>a.getCategoryProducts("煤油燈"))},"煤油燈")])])])])]),t("div",ut,[gt,t("div",ht,[t("div",bt,[t("ul",_t,[t("li",vt,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[14]||(s[14]=e=>a.getCategoryProducts("爐具"))},"爐具")]),t("li",yt,[t("button",{type:"button",class:"border-0 bg-transparent p-0",onClick:s[15]||(s[15]=e=>a.getCategoryProducts("餐具"))},"餐具")])])])])]),t("div",ft,[t("h3",Ct,[t("button",{class:"btn py-4 px-5 w-100 text-start border-0",type:"button",onClick:s[16]||(s[16]=e=>a.getCategoryProducts("焚火/燒烤"))}," 焚火/燒烤 ")])]),t("div",mt,[t("h3",Pt,[t("button",{class:"btn py-4 px-5 w-100 text-start border-0",type:"button",onClick:s[17]||(s[17]=e=>a.getCategoryProducts("保冷/水箱"))}," 保冷/水箱 ")])]),t("div",kt,[t("h3",xt,[t("button",{class:"btn py-4 px-5 w-100 text-start border-0",type:"button",onClick:s[18]||(s[18]=e=>a.getCategoryProducts("收納/配件"))}," 收納/配件 ")])])])]),t("div",wt,[t("div",Tt,[t("h2",Ft,i(r.title),1),t("select",{class:"form-select rounded-0 w-auto",onChange:s[19]||(s[19]=(...e)=>a.changeSelect&&a.changeSelect(...e))},Mt,32)]),t("div",It,[(n(!0),c(h,null,b(r.products,e=>(n(),c("div",{class:"col card-group",key:e.id},[t("div",Ot,[x(v,{to:`/product/${e.id}`},{default:w(()=>[t("div",Rt,[t("img",{class:"img-fluid",src:e.imageUrl,alt:e.title,style:{"aspect-ratio":"1/1.1","object-fit":"cover"}},null,8,St),t("div",jt,[t("button",{type:"button",class:"add-cart-btn",onClick:d(y=>o.addToCart(e.id),["prevent"])},"加入購物車",8,Bt)])]),t("div",Lt,[t("h4",At,i(e.title),1),t("p",Dt,"$ "+i(a.toCurrency(e.price)),1)])]),_:2},1032,["to"])])]))),128))]),r.pages.total_pages>1?(n(),c("nav",Nt,[t("ul",Ut,[t("li",{class:p(["page-item rounded-0",{disabled:!r.pages.has_pre}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:s[20]||(s[20]=d(e=>a.getProducts(r.pages.current_page-1),["prevent"]))},Ht)],2),(n(!0),c(h,null,b(r.pages.total_pages,e=>(n(),c("li",{class:p(["page-item",{active:e===r.pages.current_page}]),key:e+"page"},[t("a",{class:"page-link",href:"#",onClick:d(y=>a.getProducts(e),["prevent"])},i(e),9,zt)],2))),128)),t("li",{class:p(["page-item",{disabled:!r.pages.has_next}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:s[21]||(s[21]=d(e=>a.getProducts(r.pages.current_page+1),["prevent"]))},Xt)],2)])])):k("",!0)])])])])])}const Qt=m(T,[["render",Yt]]);export{Qt as default};
