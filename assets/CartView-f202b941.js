import{m as x,b as C}from"./axios-a37252fb.js";import{c as m}from"./cart-6ba61c5d.js";import{v,a as y}from"./runtime-dom.esm-bundler-0d16a18e.js";import{_ as w,r as k,o as l,W as c,X as t,a0 as d,a5 as r,a6 as _,a3 as n,a4 as f,c as V,Z as g,Y as $,a1 as b,a2 as u}from"./_plugin-vue_export-helper-a32a19e0.js";const{VITE_URL:E,VITE_PATH:T}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"hilda88",BASE_URL:"/Enjoy-Camp-Project/",MODE:"production",DEV:!1,PROD:!0},U={data(){return{code:""}},computed:{...x(m,["carts","total","final_total"])},methods:{...C(m,["getCart","updateCart","deleteCartItem"]),toCurrency(e){return e==null?"":e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getCoupon(){const e={code:this.code};this.$http.post(`${E}/v2/api/${T}/coupon`,{data:e}).then(i=>{alert(i.data.message),console.log(i.data),this.getCart()}).catch(i=>{alert(i.response.data.message)})}},mounted(){this.getCart()}},I={class:"container my-md-10"},S={class:"row justify-content-center"},j={class:"col-xl-10"},B={class:"my-10 d-none d-md-block"},D=t("h2",{class:"fs-28 px-5 my-10 text-center"},"我的購物車",-1),N={class:"border border-g-40"},q=b('<ul class="row text-center fw-bold py-5 fs-19 bg-secondary m-0"><li class="col-5">品名</li><li class="col-2">數量</li><li class="col-2">單價</li><li class="col-2">小計</li><li class="col-1"></li></ul>',1),A={key:0},L={class:"col-5"},P={class:"col-2"},R=["onUpdate:modelValue","onChange"],M=["value"],H={class:"col-2 p-0"},O={class:"col-2"},F={class:"col-1"},W=["onClick"],X=t("i",{class:"fa-regular fa-trash-can fs-19"},null,-1),Y=[X],Z={key:1,class:"my-10"},z=t("p",{class:"text-center fs-7 fw-bold"},"購物車目前是空的。",-1),G=[z],J={class:"row text-end py-5 fs-19 bg-secondary align-items-center justify-content-between m-0"},K=t("li",{class:"col-lg-7 col-8"},"優惠券",-1),Q={class:"col-4"},tt={class:"input-group"},et={key:2,class:"row text-center py-4 align-items-center border-bottom m-0"},st=t("li",{class:"col-9 text-end"},"優惠券折抵",-1),ot={class:"col-3 text-danger text-end"},lt={class:"row text-center py-4 align-items-center border-bottom m-0"},nt=t("li",{class:"col-9 text-end"},"小計",-1),ct={class:"col-3 text-end"},at={class:"row text-center py-4 align-items-center border-bottom m-0"},it=t("li",{class:"col-9 fw-bold fs-19 text-end"},"總金額",-1),dt={class:"col-3 fw-bold fs-19 text-end"},rt={class:"d-flex flex-row justify-content-end mt-5"},_t=t("button",{type:"button",class:"btn btn-primary rounded-0 px-12 py-2 position-relative"},[u("結帳去 "),t("span",{class:"material-icons align-middle icon-right p-0"}," trending_flat ")],-1),ut={class:"mt-5 mb-10 d-block d-md-none container"},ht=t("h2",{class:"fs-28 px-5 my-5 text-center"},"我的購物車",-1),pt=t("ul",{class:"row text-center py-5 fs-19 bg-secondary"},[t("li",{class:"col-7"},"品名"),t("li",{class:"col-3 text-end"},"單價")],-1),mt={key:0},yt={class:"col-7 p-0 text-start ps-3"},ft={class:"col-3 p-0 text-end"},gt={class:"col-2 p-0"},bt=["onClick"],xt=t("i",{class:"fa-regular fa-trash-can fs-7"},null,-1),Ct=[xt],vt={class:"col-6"},wt=["onUpdate:modelValue","onChange"],kt=["value"],Vt={class:"col-6 d-flex flex-row justify-content-around"},$t={class:"fw-bold"},Et={key:1,class:"my-10"},Tt=t("p",{class:"text-center fs-7 fw-bold"},"購物車目前是空的。",-1),Ut=[Tt],It=b('<ul class="row text-center py-5 fs-19 bg-secondary align-items-center"><li class="col-3">優惠券</li><li class="col-9"><div class="input-group"><input type="text" class="form-control rounded-0" placeholder="請輸入優惠代碼"><button type="button" class="input-group-text rounded-0">套用</button></div></li></ul><ul class="row text-center py-4 gy-4 align-items-center border-bottom"><li class="col-7 text-end">優惠券折抵</li><li class="col-5 text-danger text-end">-$500</li></ul>',2),St={class:"row text-center py-4 gy-4 align-items-center border-bottom"},jt=t("li",{class:"col-7 text-end"},"小計",-1),Bt={class:"col-5 text-end"},Dt={class:"row text-center py-4 gy-4 align-items-center border-bottom"},Nt=t("li",{class:"col-7 fw-bold fs-19 text-end"},"總金額",-1),qt={class:"col-5 fw-bold fs-19 text-end"},At={class:"d-flex flex-row mt-5"},Lt=t("span",{class:"material-icons align-middle icon-right p-0"}," trending_flat ",-1);function Pt(e,i,Rt,Mt,h,a){const p=k("router-link");return l(),c("main",null,[t("section",null,[t("div",I,[t("div",S,[t("div",j,[t("div",B,[D,t("div",N,[q,e.carts.length>0?(l(),c("div",A,[(l(!0),c(d,null,r(e.carts,s=>(l(),c("ul",{class:"row text-center py-5 align-items-center border-bottom m-0",key:s.id},[t("li",L,n(s.product.title),1),t("li",P,[_(t("select",{class:"form-select rounded-0","onUpdate:modelValue":o=>s.qty=o,onChange:o=>e.updateCart(s)},[(l(),c(d,null,r(20,o=>t("option",{value:o,key:`${o}12`},n(o),9,M)),64))],40,R),[[y,s.qty]])]),t("li",H,"$ "+n(a.toCurrency(s.product.price)),1),t("li",O,"$ "+n(a.toCurrency(s.total)),1),t("li",F,[t("button",{type:"button",class:"border-0 bg-white",onClick:o=>e.deleteCartItem(s)},Y,8,W)])]))),128))])):(l(),c("div",Z,G)),t("ul",J,[K,t("li",Q,[t("div",tt,[_(t("input",{type:"text",class:"form-control rounded-0",placeholder:"請輸入優惠代碼","onUpdate:modelValue":i[0]||(i[0]=s=>h.code=s)},null,512),[[v,h.code]]),t("button",{type:"button",class:"input-group-text rounded-0",onClick:i[1]||(i[1]=(...s)=>a.getCoupon&&a.getCoupon(...s))},"套用")])])]),e.total-e.final_total?(l(),c("ul",et,[st,t("li",ot,"- $"+n(a.toCurrency(e.total-e.final_total)),1)])):f("",!0),t("ul",lt,[nt,t("li",ct,"$ "+n(a.toCurrency(e.total)),1)]),t("ul",at,[it,t("li",dt,"$ "+n(a.toCurrency(e.final_total)),1)])]),t("div",rt,[e.carts.length>0?(l(),V(p,{key:0,to:"/from"},{default:g(()=>[_t]),_:1})):f("",!0)])]),t("div",ut,[ht,pt,e.carts.length>0?(l(),c("div",mt,[(l(!0),c(d,null,r(e.carts,s=>(l(),c("ul",{class:"row text-center py-4 gy-4 align-items-center border-bottom",key:s.id},[t("li",yt,n(s.product.title),1),t("li",ft,"$ "+n(a.toCurrency(s.product.price)),1),t("li",gt,[t("button",{type:"button",class:"border-0 bg-white",onClick:o=>e.deleteCartItem(s)},Ct,8,bt)]),t("li",vt,[_(t("select",{class:"form-select rounded-0","onUpdate:modelValue":o=>s.qty=o,onChange:o=>e.updateCart(s)},[(l(),c(d,null,r(10,o=>t("option",{value:o,key:`${o}12`},n(o),9,kt)),64))],40,wt),[[y,s.qty]])]),t("li",Vt,[u("小計"),t("span",$t,"$ "+n(a.toCurrency(s.total)),1)])]))),128))])):(l(),c("div",Et,Ut)),It,t("ul",St,[jt,t("li",Bt,"$ "+n(a.toCurrency(e.total)),1)]),t("ul",Dt,[Nt,t("li",qt,"$ "+n(a.toCurrency(e.final_total)),1)]),t("div",At,[$(p,{to:"/from",class:"btn btn-primary rounded-0 py-2 position-relative w-100"},{default:g(()=>[u("結帳去 "),Lt]),_:1})])])])])])])])}const Xt=w(U,[["render",Pt]]);export{Xt as default};
