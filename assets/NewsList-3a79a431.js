import{L as v}from"./index-33f5df70.js";import{_ as y,r as g,o as _,a9 as h,aa as t,C as n,ab as r,Q as w,ah as x,ae as m,af as u}from"./_plugin-vue_export-helper-74e8cb76.js";import"./_commonjsHelpers-87174ba5.js";import"./runtime-dom.esm-bundler-43bfa42d.js";const{VITE_URL:p,VITE_PATH:b}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"hilda88",BASE_URL:"/Enjoy-Camp-Project/",MODE:"production",DEV:!1,PROD:!0},L={data(){return{articles:[],isLoading:!1}},components:{Loading:v},methods:{getNewsList(){this.isLoading=!0,this.$http.get(`${p}/v2/api/${b}/articles`).then(s=>{this.isLoading=!1,this.articles=s.data.articles}).catch(s=>{alert(s.response.data.message)})},turnDate(s){const e=new Date(s*1e3),c=e.getFullYear(),a=("0"+(e.getMonth()+1)).slice(-2),l=("0"+e.getDate()).slice(-2);return`${c}-${a}-${l}`},getTags(s){this.isLoading=!0,this.$http.get(`${p}/v2/api/${b}/articles`).then(e=>{this.isLoading=!1;const d=e.data.articles.filter(a=>a.tag.includes(s));this.articles=d}).catch(e=>{alert(e.response.data.message)})}},mounted(){this.$router.afterEach((e,c)=>{e.path==="/news"&&this.getNewsList()});const s=this.$route.query.tag;s?this.getTags(s):this.getNewsList()}},$=t("div",{class:"loadingio-spinner-rolling-gpnxmojb0d"},[t("div",{class:"ldio-swt2qk0614"},[t("div")])],-1),D={class:"container"},E={class:"my-10 d-none d-md-block","aria-label":"breadcrumb",style:{"--bs-breadcrumb-divider":"'>'"}},T={class:"breadcrumb"},k={class:"breadcrumb-item"},V={class:"breadcrumb-item active"},N={class:"my-10 d-flex flex-column justify-content-center align-items-center"},j=t("h2",{class:"fs-28-rwd-19 fw-bold px-5 border-primary border-2 border-start border-end d-inline mb-10"},"最新消息",-1),U={class:"row gy-5 w-100"},A={class:"card rounded-0"},B=["src","alt"],C={class:"card-body"},I={class:"card-title fs-6 fw-bold my-4"},P={class:"card-text d-inline-block text-truncate",style:{"max-width":"300px"}},R={class:"card-footer bg-white border-0 d-flex justify-content-between"},q={class:"text-muted"};function F(s,e,c,d,a,f){const l=g("loading"),i=g("router-link");return _(),h("main",null,[t("section",null,[n(l,{active:a.isLoading,"onUpdate:active":e[0]||(e[0]=o=>a.isLoading=o)},{default:r(()=>[$]),_:1},8,["active"]),t("div",D,[t("nav",E,[t("ol",T,[t("li",k,[n(i,{to:"/"},{default:r(()=>[m("首頁")]),_:1})]),t("li",V,[n(i,{to:"/news"},{default:r(()=>[m("最新消息")]),_:1})])])]),t("div",N,[j,t("div",U,[(_(!0),h(w,null,x(a.articles,o=>(_(),h("div",{class:"col-md-6 col-xl-4 card-group",key:o.id},[t("div",A,[t("img",{class:"img-fluid",src:o.imageUrl,alt:o.title,style:{"aspect-ratio":"1/1.1","object-fit":"cover"}},null,8,B),t("div",C,[n(i,{to:`/content/${o.id}`,class:"hover-opacity"},{default:r(()=>[t("h3",I,u(o.title),1)]),_:2},1032,["to"]),t("p",P,u(o.description),1)]),t("div",R,[t("small",q,u(f.turnDate(o.create_at)),1),n(i,{to:`/content/${o.id}`,class:"hvr-underline-from-center"},{default:r(()=>[m("閱讀更多")]),_:2},1032,["to"])])])]))),128))])])])])])}const Q=y(L,[["render",F]]);export{Q as default};
